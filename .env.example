# ============================================================================
# Curatore v2 - .env.example
# Copy to .env and customize as needed
# ============================================================================

# --- API / CORS ---
DEBUG=false
CORS_ORIGINS=["http://localhost:3000"]

# --- LLM ---
OPENAI_API_KEY=put-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_VERIFY_SSL=true
OPENAI_TIMEOUT=60
OPENAI_MAX_RETRIES=3

# --- OCR ---
OCR_LANG=eng
OCR_PSM=3

# --- FILE STORAGE (canonical) ---
# These are absolute paths INSIDE containers. docker-compose bind-mounts ./files -> /app/files
FILES_ROOT=/app/files
UPLOAD_DIR=/app/files/uploaded_files
PROCESSED_DIR=/app/files/processed_files
BATCH_DIR=/app/files/batch_files
MAX_FILE_SIZE=52428800

# --- QUALITY THRESHOLDS ---
DEFAULT_CONVERSION_THRESHOLD=70
DEFAULT_CLARITY_THRESHOLD=7
DEFAULT_COMPLETENESS_THRESHOLD=7
DEFAULT_RELEVANCE_THRESHOLD=7
DEFAULT_MARKDOWN_THRESHOLD=7

# --- CELERY / REDIS ---
CELERY_DEFAULT_QUEUE=processing
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1

# --- Extraction & Docling timeouts ---
EXTRACTION_SERVICE_TIMEOUT=180
DOCLING_TIMEOUT=300
DOCLING_SERVE_MAX_SYNC_WAIT=300


############################################################
# Extraction engines
############################################################

# Space/comma separated list of extraction engines to start.
# "default" (the internal extraction-service) is always included.
# Add optional engines like docling or tika to spin up their containers.
EXTRACTION_ENGINES=default
# EXTRACTION_ENGINES="default docling"

# Content extractor selection:
# - auto: use the first non-default engine from EXTRACTION_ENGINES (falls back to default)
# - default|docling|none: force a specific extractor
CONTENT_EXTRACTOR=auto
# CONTENT_EXTRACTOR=docling
