# ============================================================================
# Curatore v2 - .env.example
# Copy to .env and customize as needed
# ============================================================================

# --- API / CORS ---
DEBUG=false
CORS_ORIGINS=["http://localhost:3000"]

# --- LLM ---
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_VERIFY_SSL=true
OPENAI_TIMEOUT=60
OPENAI_MAX_RETRIES=3

# --- OCR ---
OCR_LANG=eng
OCR_PSM=3

# --- FILE STORAGE (canonical) ---
# These are absolute paths INSIDE containers. docker-compose bind-mounts ./files -> /app/files
FILES_ROOT=/app/files
UPLOAD_DIR=/app/files/uploaded_files
PROCESSED_DIR=/app/files/processed_files
BATCH_DIR=/app/files/batch_files
MAX_FILE_SIZE=52428800

# --- QUALITY THRESHOLDS ---
DEFAULT_CONVERSION_THRESHOLD=70
DEFAULT_CLARITY_THRESHOLD=7
DEFAULT_COMPLETENESS_THRESHOLD=7
DEFAULT_RELEVANCE_THRESHOLD=7
DEFAULT_MARKDOWN_THRESHOLD=7

# --- CELERY / REDIS ---
CELERY_DEFAULT_QUEUE=processing
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1


############################################################
# Content extractor switch
############################################################

# Choose which content extractor to use:
# - default: use the default/embedded extraction-service at EXTRACTION_SERVICE_URL
# - docling: use Docling service at DOCLING_SERVICE_URL
# - none: disable remote extraction (fallback placeholder)
CONTENT_EXTRACTOR=docling

# Legacy/custom extraction service
EXTRACTION_SERVICE_URL=http://extraction:8010
EXTRACTION_SERVICE_TIMEOUT=60
EXTRACTION_SERVICE_VERIFY_SSL=true

############################################################
# Docling container (service: docling)

############################################################
# Docling container (service: docling)
# - Runs document parsing/extraction alongside Open WebUI.
############################################################

# Docling image reference (CPU by default for compatibility; change if you have GPU)
DOCLING_IMAGE=ghcr.io/docling-project/docling-serve-cpu
DOCLING_TAG=latest

# Docker Compose service/container naming and port mapping
DOCLING_CONTAINER_NAME=docling  # compose: container_name
DOCLING_PORT=5001               # host port mapped to container port 5001

# Docling in-container configuration (passed into the container env)
# Note: docker-compose.yml may set defaults; adjust there if needed.
DOCLING_SERVE_ENABLE_UI=0
DOCLING_SERVE_ENABLE_REMOTE_SERVICES=true
DOCLING_SERVE_ARTIFACTS_PATH=

# Backend/worker Docling client settings
DOCLING_SERVICE_URL=http://docling:5001
DOCLING_TIMEOUT=60
DOCLING_VERIFY_SSL=true
