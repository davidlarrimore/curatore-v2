# Metadata field definitions for all namespaces.
# Global baseline (organization_id = null).
#
# Each field specifies:
#   data_type: string | number | boolean | date | enum | array | object
#   indexed: whether the field is indexed in search_chunks.metadata
#   facetable: whether the field can be used as a facet filter
#   applicable_content_types: which content types this field appears on
#   description: human-readable description
#   examples: sample values

fields:
  # =========================================================================
  # SOURCE namespace - common fields for all assets
  # =========================================================================
  source:
    storage_folder:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "Storage folder path in object storage (org prefix and filename stripped)"
      examples: ["uploads/docs", "sharepoint/site/library", "scrape/collection/pages"]

    uploaded_by:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "User ID who uploaded the asset"

    uploaded_at:
      data_type: date
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "Timestamp when the asset was uploaded"

    upload_method:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "Method of upload (api, ui, etc.)"
      examples: ["api"]

  # =========================================================================
  # SHAREPOINT namespace
  # =========================================================================
  sharepoint:
    item_id:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "SharePoint item ID"

    drive_id:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "SharePoint drive ID"

    path:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "Human-readable SharePoint folder path (e.g., 'Reuse Material/Past Performances/CBP')"

    folder:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "SharePoint folder name"

    web_url:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "SharePoint web URL"

    parent_path:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "SharePoint parent folder path"

    created_by:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "Display name of document creator"

    created_by_email:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "Email of document creator"

    modified_by:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "Display name of last modifier"

    modified_by_email:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "Email of last modifier"

    created_at:
      data_type: date
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "SharePoint creation timestamp"

    modified_at:
      data_type: date
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "SharePoint modification timestamp"

    site_name:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "SharePoint site display name"
      examples: ["IT Department", "Engineering", "Corporate Communications"]

  # =========================================================================
  # SAM namespace
  # =========================================================================
  sam:
    notice_id:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [sam_notice, asset]
      description: "SAM.gov notice ID"

    solicitation_id:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [sam_notice, asset]
      description: "Parent solicitation ID"

    solicitation_number:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [sam_solicitation, asset]
      description: "Solicitation number"

    notice_type:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [sam_notice]
      description: "Notice type (Presolicitation, Combined Synopsis, etc.)"
      examples: ["Presolicitation", "Combined Synopsis/Solicitation", "Sources Sought"]

    agency:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [sam_notice, sam_solicitation, asset]
      description: "Federal agency name"
      examples: ["GSA", "DOD", "USDA", "HHS"]

    office:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [sam_solicitation]
      description: "Agency office"

    naics_code:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [sam_solicitation]
      description: "NAICS code"
      examples: ["541512", "541519", "541611"]

    set_aside:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [sam_solicitation]
      description: "Set-aside type"
      examples: ["SBA", "8(a)", "HUBZone", "SDVOSB", "WOSB"]

    posted_date:
      data_type: date
      indexed: true
      facetable: false
      applicable_content_types: [sam_notice, sam_solicitation]
      description: "Date posted on SAM.gov"

    response_deadline:
      data_type: date
      indexed: true
      facetable: false
      applicable_content_types: [sam_notice, sam_solicitation]
      description: "Response deadline"

    attachment_id:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "SAM.gov attachment ID"

  # =========================================================================
  # SALESFORCE namespace
  # =========================================================================
  salesforce:
    salesforce_id:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [salesforce_account, salesforce_contact, salesforce_opportunity]
      description: "Salesforce record ID"

    account_type:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [salesforce_account]
      description: "Account type"
      examples: ["Customer", "Partner", "Prospect"]

    industry:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [salesforce_account]
      description: "Industry classification"

    website:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [salesforce_account]
      description: "Account website"

    first_name:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [salesforce_contact]
      description: "Contact first name"

    last_name:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [salesforce_contact]
      description: "Contact last name"

    email:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [salesforce_contact]
      description: "Contact email"

    title:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [salesforce_contact]
      description: "Contact job title"

    account_name:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [salesforce_contact, salesforce_opportunity]
      description: "Associated account name"

    stage_name:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [salesforce_opportunity]
      description: "Opportunity stage"
      examples: ["Prospecting", "Qualification", "Proposal", "Closed Won"]

    amount:
      data_type: number
      indexed: true
      facetable: false
      applicable_content_types: [salesforce_opportunity]
      description: "Opportunity dollar amount"

    opportunity_type:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [salesforce_opportunity]
      description: "Opportunity type"

    close_date:
      data_type: date
      indexed: true
      facetable: false
      applicable_content_types: [salesforce_opportunity]
      description: "Expected close date"

  # =========================================================================
  # FORECAST namespace
  # =========================================================================
  forecast:
    source_type:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [ag_forecast, apfs_forecast, state_forecast]
      description: "Forecast source type"
      examples: ["ag_forecast", "apfs_forecast", "state_forecast"]

    source_id:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [ag_forecast, apfs_forecast, state_forecast]
      description: "Source record ID"

    agency_name:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [ag_forecast, apfs_forecast, state_forecast]
      description: "Agency name"

    naics_codes:
      data_type: array
      indexed: true
      facetable: false
      applicable_content_types: [ag_forecast, apfs_forecast, state_forecast]
      description: "NAICS codes (may include code and description)"

    set_aside_type:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [ag_forecast, apfs_forecast, state_forecast]
      description: "Set-aside type"

    fiscal_year:
      data_type: number
      indexed: true
      facetable: true
      applicable_content_types: [ag_forecast, apfs_forecast, state_forecast]
      description: "Fiscal year"
      examples: [2025, 2026]

    estimated_award_quarter:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [ag_forecast, apfs_forecast, state_forecast]
      description: "Estimated award quarter"
      examples: ["Q1", "Q2", "Q3", "Q4"]

  # =========================================================================
  # SCRAPE namespace
  # =========================================================================
  scrape:
    url:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "Original page URL"

    final_url:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "Final URL after redirects"

    source_url:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "URL of the page that linked to this document"

    collection_id:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "Scrape collection ID"

    collection_name:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "Scrape collection name"

    crawl_run_id:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "Crawl run ID"

    link_text:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "Link text from the referring page"

  # =========================================================================
  # SYNC namespace
  # =========================================================================
  sync:
    config_id:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "Sync configuration ID"

    config_name:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "Sync configuration name"

  # =========================================================================
  # FILE namespace
  # =========================================================================
  file:
    extension:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "File extension"
      examples: [".pdf", ".docx", ".xlsx", ".pptx"]

    description:
      data_type: string
      indexed: true
      facetable: false
      applicable_content_types: [asset]
      description: "File description from source system"

    extraction_status:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "Document extraction pipeline status"
      examples: ["pending", "ready", "failed"]

    extraction_tier:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "Extraction quality tier — basic (fast engines) or enhanced (Docling)"
      examples: ["basic", "enhanced"]

    document_type:
      data_type: string
      indexed: true
      facetable: true
      applicable_content_types: [asset]
      description: "LLM-classified document type — the primary purpose/category of this document"
      examples:
        - "Market Research"
        - "Capture Strategy"
        - "Capability Statement"
        - "Solicitation"
        - "Solicitation Q&A"
        - "RFI Response"
        - "White Paper"
        - "Proposal Response"
        - "Past Performance"
        - "Contract"
        - "Task Order"
        - "Statement of Work"
        - "Contract Deliverable"
        - "Status Report"
        - "Teaming Agreement"
        - "Correspondence"
        - "Presentation"
        - "Pricing & Cost Data"
        - "Lessons Learned"
        - "Recruiting & Staffing"
        - "Employee Onboarding"
        - "Employee Records & Compliance"
        - "Benefits Enrollment & Administration"
        - "Health & Wellness Benefits"
        - "Retirement & Financial Benefits"
        - "Leave Administration"
        - "Workers Compensation & Safety"
        - "HR Policy"
        - "Training & Certifications"
        - "Payroll Processing"
        - "Timesheet & Labor Charging"
        - "Accounts Payable"
        - "Accounts Receivable & Invoicing"
        - "Financial Reporting"
        - "Budget & Forecasting"
        - "Audit & Compliance (Finance)"
        - "Subcontractor Management"
        - "IT Helpdesk Ticket"
        - "IT Asset Management"
        - "IT Security & Access"
        - "IT Policy & SOP"
        - "IT Infrastructure & Architecture"
        - "Quality Assurance"
        - "Program Management"
        - "Transition & Turnover"
        - "Corporate Governance"
        - "Corporate Certifications & Registrations"
        - "Corporate Legal Agreements"
        - "Insurance & Risk Management"
        - "Tax & Entity Filings"
        - "Marketing Strategy & Campaigns"
        - "Digital Marketing & Social Media"
        - "Content & Thought Leadership"
        - "Event & Conference Materials"
        - "Public Relations & Media"
        - "Case Studies & Success Stories"
        - "Website & Brand Assets"
        - "Internal Communications"
        - "Facilities & Physical Security"
        - "Ethics & Compliance Program"
        - "Other"
      value_descriptions:
        "Market Research": "Market research artifacts including agency spend analyses, GovWin/SAM.gov opportunity reports, incumbent research, FPDS pulls, and budget/appropriations analysis used to inform pipeline decisions."
        "Capture Strategy": "Capture and pursuit artifacts including capture plans, gate review briefings, win theme development, competitive assessments (Black Hat/Blue Hat), price-to-win analyses, teaming/partner evaluations, call plan notes, and customer engagement summaries."
        "Capability Statement": "Company capability statements, qualifications briefs, one-pagers, or similar marketing collateral used to position the company with government customers or teaming partners."
        "Solicitation": "Government-issued solicitation documents including RFPs, RFQs, RFIs, Sources Sought Notices, BAAs, draft solicitations, and associated amendments or attachments (e.g., CDRLs, evaluation criteria, Section L/M)."
        "Non-Disclosure Agreement (NDA)": "Executed NDAs related to a specific opportunity or customer engagement, including mutual NDAs and one-way NDAs where the company is the receiving party."
        "Solicitation Q&A": "Government-issued Q&A documents, answers to industry questions, and Frequently Asked Questions released during the solicitation period."
        "RFI Response": "Company-submitted response to a government Request for Information (RFI) or Sources Sought Notice, typically providing capability information or market feedback."
        "White Paper": "A concept paper, white paper, or abstract submitted in response to a BAA, CSO, or other pre-proposal inquiry."
        "Proposal Response": "A formal proposal submission in response to a solicitation, including any volume: technical/management approach, staffing/key personnel, past performance volume, cost/price volume, oral presentation materials, or sample task responses."
        "Past Performance": "Standalone past performance narratives, CPARS/PPQs, project descriptions, or reference documentation used to support proposals or capture efforts."
        "Contract": "Executed contract instruments including base awards, BPAs, IDIQs, GWACs, GSA Schedule contracts, and associated modifications (mods) or option exercises."
        "Task Order": "Task orders, delivery orders, BPA calls, or orders placed against an IDIQ/GWAC/BPA vehicle, including associated modifications."
        "Statement of Work": "Government-issued or company-drafted performance requirements documents including SOWs, PWSs, SOOs, and associated WBS or CDRLs."
        "Contract Deliverable": "A deliverable produced under contract such as a technical report, systems engineering artifact, program/project plan, transition plan, or final deliverable — distinct from routine status reporting."
        "Status Report": "Recurring program/project status reports, monthly/weekly reports, SIPRs, CDR/SDR outputs, financial status reports, or EVM deliverables."
        "Teaming Agreement": "Teaming agreements (TAs), non-disclosure agreements (NDAs), memoranda of understanding (MOUs), or other pre-award partnering documents tied to a specific opportunity."
        "Correspondence": "Letters, emails, meeting minutes, or formal correspondence with government clients, teammates, or subcontractors — including cure notices and show-cause letters."
        "Presentation": "Slide decks, briefings, oral presentation materials, or demo materials not submitted as part of a formal proposal."
        "Pricing & Cost Data": "Standalone cost models, basis of estimates (BOEs), rate builds, wrap rate calculations, subcontractor quotes, or price analysis workbooks — when not embedded in a proposal volume."
        "Lessons Learned": "Post-award debriefs, win/loss analyses, lessons learned reports, or after-action reviews from capture or proposal efforts."
        "Recruiting & Staffing": "Job postings, candidate resumes, interview scorecards, staffing plans, contingent hire letters, and recruitment pipeline trackers — particularly for proposal-contingent or contract-specific hiring."
        "Employee Onboarding": "New hire packets, I-9/W-4 forms, onboarding checklists, system access request forms, welcome letters, and orientation materials."
        "Employee Records & Compliance": "Personnel files, employment verification letters, performance reviews, PIPs, disciplinary records, separation/termination documentation, and EEO/OFCCP compliance records."
        "Benefits Enrollment & Administration": "Benefits enrollment forms, open enrollment packets, new hire benefits elections, qualifying life event change forms, benefits eligibility documentation, COBRA notifications, and annual benefits summary documents."
        "Health & Wellness Benefits": "Medical, dental, and vision plan documents, summary plan descriptions (SPDs), explanation of benefits (EOBs), carrier contracts, wellness program materials, EAP documentation, and HSA/FSA enrollment and administration records."
        "Retirement & Financial Benefits": "401(k) plan documents, summary plan descriptions, enrollment forms, employer match documentation, vesting schedules, loan/hardship withdrawal requests, annual 5500 filings, and plan audit records."
        "Leave Administration": "FMLA requests and certifications, ADA accommodation requests and interactive process documentation, PTO balance records, parental leave documentation, military leave (USERRA) records, and leave of absence correspondence."
        "Workers Compensation & Safety": "Workers compensation claims, incident reports, OSHA logs, return-to-work documentation, workplace safety plans, and ergonomic assessment records."
        "HR Policy": "Employee handbooks, HR standard operating procedures, PTO policies, telework agreements, code of conduct, and workplace policy documents."
        "Training & Certifications": "Training records, certification tracking, continuing education documentation, mandatory compliance training completions (e.g., cybersecurity awareness, ethics), and professional development plans."
        "Payroll Processing": "Payroll registers, pay stubs, direct deposit authorizations, payroll tax filings (941s, W-2s, 1099s), timesheet summaries, and payroll adjustment records."
        "Timesheet & Labor Charging": "Individual timesheets, labor distribution reports, labor category (LCAT) tracking, DCAA-compliant timekeeping records, and corrections or adjustments to labor charges."
        "Accounts Payable": "Vendor invoices, purchase orders, expense reports, corporate credit card statements, reimbursement requests, and payment approval documentation."
        "Accounts Receivable & Invoicing": "Client invoices, invoice backup documentation, accounts receivable aging reports, payment receipt confirmations, and contract funding status trackers."
        "Financial Reporting": "Profit & loss statements, balance sheets, cash flow reports, project-level financial summaries, incurred cost submissions, and annual audit packages."
        "Budget & Forecasting": "Annual operating budgets, project budgets, revenue forecasts, indirect rate forecasts, and variance analyses."
        "Audit & Compliance (Finance)": "DCAA audit correspondence, incurred cost proposals, disclosure statements (DS-2), CAS compliance documentation, internal audit findings, and corrective action plans."
        "Subcontractor Management": "Subcontract agreements, subcontractor invoices, consent to subcontract documentation, subcontractor performance evaluations, and flow-down requirements."
        "IT Helpdesk Ticket": "IT support tickets, service requests, incident reports, and trouble tickets related to hardware, software, network access, or system issues."
        "IT Asset Management": "Hardware/software inventory records, asset assignment logs, equipment checkout forms, license tracking spreadsheets, and disposal/decommission records."
        "IT Security & Access": "System access requests (SARs), account provisioning forms, PIV/CAC enrollment records, ATO documentation, security incident reports, vulnerability scan results, and POA&Ms."
        "IT Policy & SOP": "IT standard operating procedures, acceptable use policies, configuration management plans, disaster recovery plans, backup procedures, and change management documentation."
        "IT Infrastructure & Architecture": "Network diagrams, system architecture documents, cloud environment configurations, DevSecOps pipeline documentation, and infrastructure-as-code templates."
        "Quality Assurance": "QA/QC plans, inspection reports, test plans and results, defect tracking logs, process audit findings, and continuous improvement documentation related to contract delivery."
        "Program Management": "Program management plans, integrated master schedules (IMS), risk registers, RAID logs, milestone trackers, and governance/review meeting artifacts."
        "Transition & Turnover": "Transition-in/transition-out plans, knowledge transfer documentation, incumbent data requests, and phase-in/phase-out schedules."
        "Corporate Governance": "Board meeting minutes, operating agreements, articles of incorporation, corporate resolutions, bylaws, registered agent filings, annual state reports, and corporate authority documents."
        "Corporate Certifications & Registrations": "SAM.gov registration records, SBA certifications (SDVOSB, 8(a), HUBZone, WOSB), CMMC certification documentation, GSA Schedule maintenance records, DUNS/UEI documentation, and organizational conflict of interest (OCI) mitigation plans."
        "Corporate Legal Agreements": "Master service agreements, licensing agreements, corporate-level NDAs, vendor agreements, and other legal instruments not tied to a specific capture or proposal effort."
        "Insurance & Risk Management": "Certificates of insurance (COIs), general liability/E&O/cyber liability/workers compensation policy documents, claims records, and corporate risk assessments."
        "Tax & Entity Filings": "Federal and state corporate tax returns, quarterly estimated tax payments, business license renewals, entity registration documents, and sales/use tax filings."
        "Marketing Strategy & Campaigns": "Marketing plans, campaign briefs, brand guidelines, target audience analyses, marketing spend reports, ROI analyses, and go-to-market strategies for events or initiatives."
        "Digital Marketing & Social Media": "Social media content calendars, LinkedIn/Twitter/YouTube posts and analytics, SEO strategies, website analytics reports, email marketing campaigns, newsletter archives, and digital advertising materials."
        "Content & Thought Leadership": "Blog posts, authored articles, podcast scripts/recordings, webinar materials, contributed publications, and bylined pieces used for brand positioning and subject matter expertise visibility."
        "Event & Conference Materials": "Conference booth designs, sponsorship agreements, speaking proposals, event registration lists, post-event follow-up plans, trade show collateral, and industry day materials."
        "Public Relations & Media": "Press releases, media kits, journalist contact lists, media coverage clips, award submissions and notifications, and crisis communication plans."
        "Case Studies & Success Stories": "Client-approved case studies, project success stories, metrics-driven outcome narratives, and before/after summaries used for BD, proposals, or public marketing."
        "Website & Brand Assets": "Website copy, landing page content, logo files, brand style guides, photography/image libraries, video assets, and template libraries for corporate communications."
        "Internal Communications": "Company-wide announcements, all-hands meeting materials, internal newsletters, organizational change communications, and leadership messages to staff."
        "Facilities & Physical Security": "Facility security plans, DD-254s (Department of Defense Security Agreement), visitor access logs, facility clearance (FCL) documentation, SCIF accreditation records, and lease/space agreements."
        "Ethics & Compliance Program": "Ethics program documentation, OCI screening records, gift/gratuity policies, lobbying disclosures, mandatory ethics training records, and whistleblower/hotline procedures."
        "Other": "Does not clearly fit any other category. Flag for manual review and potential taxonomy expansion."
